<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UPI Payment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #eef2f5;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.card {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  width: 100%;
  max-width: 360px;
  text-align: center;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
}
input, button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-size: 16px;
}
button {
  background: #0a7cff;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
button:hover {
  background: #055fd1;
}
img {
  margin-top: 15px;
}
.order {
  margin-top: 10px;
  font-size: 14px;
  color: #333;
}
</style>
</head>

<body>

<div class="card">
  <h3>UPI Payment</h3>

  <input type="text" id="upiId" placeholder="Your UPI ID" value="example@upi">
  <input type="text" id="name" placeholder="Receiver Name" value="Digital Store">
  <input type="number" id="amount" placeholder="Amount â‚¹">
  <input type="text" id="note" placeholder="Payment Note" value="Ebook Purchase">

  <button onclick="generatePayment()">Generate Payment</button>

  <div class="order" id="orderId"></div>

  <img id="qr" width="220" style="display:none">

  <button onclick="payNow()" id="payBtn" style="display:none;margin-top:15px;">
    Pay Now
  </button>
</div>

<script>
let upiLink = "";

function generatePayment() {
  const upi = document.getElementById("upiId").value;
  const name = document.getElementById("name").value;
  const amount = document.getElementById("amount").value;
  const note = document.getElementById("note").value;

  if (!upi || !amount) {
    alert("UPI ID and Amount required");
    return;
  }

  const order = "ORD" + Date.now();
  document.getElementById("orderId").innerText = "Order ID: " + order;

  upiLink =
    "upi://pay?pa=" + encodeURIComponent(upi) +
    "&pn=" + encodeURIComponent(name) +
    "&am=" + encodeURIComponent(amount) +
    "&cu=INR" +
    "&tn=" + encodeURIComponent(note + " | " + order);

  // QR Code using Google Chart API
  const qrURL = "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" + encodeURIComponent(upiLink);

  const qr = document.getElementById("qr");
  qr.src = qrURL;
  qr.style.display = "block";

  document.getElementById("payBtn").style.display = "block";
}

function payNow() {
  window.location.href = upiLink;
}
</script>

</body>
</html>
